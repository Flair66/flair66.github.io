<!doctype html>
<html lang="de">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>Speisekarte - Flair66</title>

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	</head>
	<body>
		<main class="container-md">
			<div class="mt-5 mb-4 text-center">
				<img height="60px" src="./flair.png">
			</div>
		</main>

		<script>
			function create_block(block) {
				document.getElementsByTagName('main')[0].insertAdjacentHTML('beforeend', `
					<div class="card mb-4">
						<div class="card-body p-3">
							<h2 class="card-title">
								<u>${block.name}</u>
							</h2>
							<ul id="ul-${block.id}" class="list-group list-group-flush p-2">
							</ul>
						</div>
					</div>
				`);

				let container = document.getElementById('ul-' + block.id);
				block.entries.forEach(element => {
					container.insertAdjacentHTML('beforeend', `
						<li class="list-group-item d-flex justify-content-between align-items-center px-1">
							<h5 class="m-0 pr-3">
								${element.name}<br>
								<small class="text-muted">${element.ingredients}</small>
							</h5>
							<span class="badge badge-secondary badge-pill">${element.price}</span>
						</li>
					`);
				});
			}

			async function run() {
				let data = await fetch("./data.json");
				let blocks = await data.json();
				blocks.forEach(block => {
					create_block(block);
				});
			}
			run();
		</script>
	</body>
</html>
